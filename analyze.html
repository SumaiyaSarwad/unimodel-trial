<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Analyze Text - AI Human Detector</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary: #667eea;
            --primary-dark: #5a6fd8;
            --secondary: #764ba2;
            --accent: #ff6b6b;
            --accent-dark: #e55c5c;
            --purple: #9c27b0;
            --orange: #ff9800;
            --green: #4CAF50;
            --red: #f44336;
            --dark: #333;
            --light: #f8f9fa;
            --gray: #6c757d;
            --border-radius: 12px;
            --shadow: 0 10px 30px rgba(0,0,0,0.1);
            --transition: all 0.3s ease;
        }
        /* Enhanced Professional Footer */
footer {
    background: #1a202c;
    color: white;
    padding: 2.5rem 0 1.5rem;
    margin-top: 4rem;
}

.footer-content {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 1.5rem;
}

@media (max-width: 768px) {
    .footer-content {
        flex-direction: column;
        gap: 1.5rem;
        text-align: center;
    }
}

.brand-section {
    display: flex;
    flex-direction: column;
    gap: 0.8rem;
}

.brand-name {
    font-size: 1.4rem;
    font-weight: 700;
    color: white;
    letter-spacing: 0.5px;
}

.brand-tagline {
    font-size: 0.9rem;
    color: #a0aec0;
    max-width: 300px;
    line-height: 1.5;
}

.developer-section {
    display: flex;
    flex-direction: column;
    align-items: flex-end;
    gap: 0.8rem;
}

@media (max-width: 768px) {
    .developer-section {
        align-items: center;
    }
}

.developer-info {
    display: flex;
    align-items: center;
    gap: 12px;
    background: rgba(255, 255, 255, 0.05);
    padding: 0.8rem 1.2rem;
    border-radius: 10px;
    transition: all 0.3s ease;
}

.developer-info:hover {
    background: rgba(255, 255, 255, 0.1);
    transform: translateY(-2px);
}

.developer-logo {
    width: 36px;
    height: 36px;
    background: linear-gradient(135deg, #667eea, #764ba2);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: bold;
    color: white;
    font-size: 1rem;
    box-shadow: 0 4px 10px rgba(102, 126, 234, 0.3);
}

.developer-text {
    font-size: 0.95rem;
    color: #a0aec0;
}

.developer-text strong {
    color: white;
    font-weight: 700;
}

.social-links {
    display: flex;
    gap: 1rem;
}

.social-link {
    color: #a0aec0;
    font-size: 1.3rem;
    transition: all 0.3s ease;
    width: 40px;
    height: 40px;
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: 50%;
    background: rgba(255, 255, 255, 0.05);
}

.social-link:hover {
    color: white;
    transform: translateY(-3px);
    background: rgba(255, 255, 255, 0.1);
}

.copyright {
    text-align: center;
    padding-top: 1.5rem;
    border-top: 1px solid #2d3748;
    color: #a0aec0;
    font-size: 0.85rem;
}

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            color: var(--dark);
            line-height: 1.6;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
            flex: 1;
        }

        /* Header Styles */
        header {
            background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
            color: white;
            padding: 2rem 0;
            text-align: center;
            border-radius: 0 0 var(--border-radius) var(--border-radius);
            box-shadow: var(--shadow);
            margin-bottom: 2rem;
            position: relative;
            overflow: hidden;
        }

        header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1440 320"><path fill="%23ffffff" fill-opacity="0.1" d="M0,224L48,213.3C96,203,192,181,288,181.3C384,181,480,203,576,224C672,245,768,267,864,261.3C960,256,1056,224,1152,208C1248,192,1344,192,1392,192L1440,192L1440,320L1392,320C1344,320,1248,320,1152,320C1056,320,960,320,864,320C768,320,672,320,576,320C480,320,384,320,288,320C192,320,96,320,48,320L0,320Z"></path></svg>');
            background-size: cover;
            background-position: center;
        }

        .header-content {
            position: relative;
            z-index: 1;
        }

        .logo {
            font-size: 2.5rem;
            margin-bottom: 1rem;
            display: inline-block;
            animation: pulse 2s infinite;
        }

        h1 {
            font-size: 2.5rem;
            margin-bottom: 0.5rem;
            font-weight: 700;
        }

        .tagline {
            font-size: 1.2rem;
            opacity: 0.9;
            max-width: 600px;
            margin: 0 auto 1.5rem;
        }

        .back-btn {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            background: rgba(255, 255, 255, 0.2);
            color: white;
            text-decoration: none;
            padding: 10px 20px;
            border-radius: 50px;
            transition: var(--transition);
            font-weight: 500;
        }

        .back-btn:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: translateX(-5px);
        }

        /* Main Content */
        .analysis-container {
            display: grid;
            grid-template-columns: 1fr;
            gap: 2rem;
            margin-bottom: 3rem;
        }

        .input-section {
            background: white;
            border-radius: var(--border-radius);
            padding: 2rem;
            box-shadow: var(--shadow);
            transition: var(--transition);
        }

        .input-section:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 40px rgba(0,0,0,0.15);
        }

        .input-section h2 {
            color: var(--primary);
            margin-bottom: 1.5rem;
            font-size: 1.8rem;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        textarea {
            width: 100%;
            padding: 1.5rem;
            border: 2px solid #e9ecef;
            border-radius: var(--border-radius);
            font-size: 1rem;
            resize: vertical;
            min-height: 200px;
            transition: var(--transition);
            line-height: 1.6;
        }

        textarea:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        .char-count {
            text-align: right;
            margin-top: 10px;
            color: var(--gray);
            font-size: 0.9rem;
        }

        .button-group {
            display: flex;
            gap: 15px;
            margin-top: 20px;
            flex-wrap: wrap;
        }

        .analyze-btn {
            background: var(--primary);
            color: white;
            border: none;
            padding: 15px 25px;
            font-size: 1rem;
            border-radius: 50px;
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            font-weight: 600;
            flex: 1;
            min-width: 200px;
        }

        .analyze-btn:hover {
            background: var(--primary-dark);
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(0,0,0,0.2);
        }

        .analyze-btn:disabled {
            background: #cccccc;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }

        .correct-btn {
            background: var(--orange);
            color: white;
            border: none;
            padding: 15px 25px;
            border-radius: 50px;
            cursor: pointer;
            font-size: 1rem;
            transition: var(--transition);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            font-weight: 600;
            flex: 1;
            min-width: 200px;
        }

        .correct-btn:hover {
            background: #f57c00;
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(0,0,0,0.2);
        }

        .correct-btn:disabled {
            background: #cccccc;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }

        .clear-btn {
            background: var(--red);
            color: white;
            border: none;
            padding: 15px 25px;
            border-radius: 50px;
            cursor: pointer;
            font-size: 1rem;
            transition: var(--transition);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            font-weight: 600;
            flex: 1;
            min-width: 150px;
        }

        .clear-btn:hover {
            background: #d32f2f;
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(0,0,0,0.2);
        }

        .shortcut-hint {
            color: var(--gray);
            font-size: 0.9rem;
            margin-top: 15px;
            text-align: center;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }

        kbd {
            background: #f1f3f4;
            border: 1px solid #dadce0;
            border-radius: 4px;
            padding: 2px 6px;
            font-size: 0.8rem;
            box-shadow: 0 1px 1px rgba(0,0,0,0.1);
        }

        /* Results Section */
        .result-section {
            background: white;
            border-radius: var(--border-radius);
            padding: 2rem;
            box-shadow: var(--shadow);
            transition: var(--transition);
            display: none;
        }

        .result-section.active {
            display: block;
            animation: fadeIn 0.5s ease-out;
        }

        .result-header {
            margin-bottom: 1.5rem;
            border-bottom: 2px solid #f1f3f4;
            padding-bottom: 1rem;
        }

        .result-header h2 {
            color: var(--dark);
            font-size: 1.8rem;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .result-content {
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
        }

        .result-card {
            width: 100%;
            max-width: 600px;
            padding: 2rem;
            border-radius: var(--border-radius);
            box-shadow: 0 5px 15px rgba(0,0,0,0.05);
            border-left: 5px solid var(--primary);
        }

        .ai-result {
            border-left-color: var(--red);
        }

        .human-result {
            border-left-color: var(--green);
        }

        .result-icon {
            font-size: 4rem;
            margin-bottom: 1.5rem;
        }

        .result-title {
            font-size: 2rem;
            font-weight: 700;
            margin-bottom: 1.5rem;
        }

        .details-list {
            list-style: none;
            padding: 0;
            margin: 20px 0 0 0;
            text-align: left;
            width: 100%;
        }

        .details-list li {
            padding: 12px 0;
            border-bottom: 1px solid #eee;
            display: flex;
            align-items: center;
            color: #555;
        }

        .details-list li:before {
            content: "‚Ä¢";
            color: var(--primary);
            font-weight: bold;
            margin-right: 10px;
            font-size: 1.2rem;
        }

        .ai-dot:before { color: var(--red) !important; }
        .human-dot:before { color: var(--green) !important; }

        /* Correction Section */
        .correction-section {
            background: white;
            border-radius: var(--border-radius);
            padding: 2rem;
            box-shadow: var(--shadow);
            transition: var(--transition);
            display: none;
            border-left: 5px solid var(--orange);
        }

        .correction-section.active {
            display: block;
            animation: fadeIn 0.5s ease-out;
        }

        .correction-section h3 {
            color: var(--dark);
            margin-bottom: 1.5rem;
            font-size: 1.5rem;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .correction-card {
            background: #f8f9fa;
            padding: 1.5rem;
            border-radius: var(--border-radius);
            border: 1px solid #e9ecef;
            margin-top: 15px;
        }

        .correction-card h4 {
            margin-bottom: 10px;
            color: var(--dark);
        }

        .copy-btn {
            background: var(--primary);
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 50px;
            cursor: pointer;
            margin-top: 15px;
            transition: var(--transition);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            font-weight: 600;
        }

        .copy-btn:hover {
            background: var(--primary-dark);
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        /* Loading States */
        .loading {
            display: none;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 3rem;
            text-align: center;
        }

        .loading.active {
            display: flex;
            animation: fadeIn 0.3s ease-out;
        }

        .spinner {
            width: 50px;
            height: 50px;
            border: 5px solid #f3f3f3;
            border-top: 5px solid var(--primary);
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin-bottom: 1.5rem;
        }

        .loading p {
            color: var(--gray);
            font-size: 1.1rem;
        }

        /* Error Section */
        .error-section {
            background: #ffeaea;
            border: 1px solid #f8d7da;
            color: #721c24;
            padding: 1.5rem;
            border-radius: var(--border-radius);
            display: none;
            align-items: center;
            gap: 15px;
        }

        .error-section.active {
            display: flex;
            animation: fadeIn 0.3s ease-out;
        }

        /* Examples Section */
        .examples-section {
            background: white;
            border-radius: var(--border-radius);
            padding: 2rem;
            box-shadow: var(--shadow);
            transition: var(--transition);
        }

        .examples-section h3 {
            color: var(--dark);
            margin-bottom: 1.5rem;
            font-size: 1.5rem;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .example-buttons {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
        }

        .example-btn {
            background: white;
            color: var(--dark);
            border: 2px solid #e9ecef;
            padding: 12px 20px;
            border-radius: 50px;
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            font-weight: 500;
            flex: 1;
            min-width: 200px;
        }

        .example-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .ai-example:hover {
            border-color: var(--red);
            color: var(--red);
        }

        .human-example:hover {
            border-color: var(--green);
            color: var(--green);
        }

        /* Footer */
        footer {
            background: var(--dark);
            color: white;
            padding: 2rem 0;
            margin-top: auto;
        }

        .footer-content {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 2rem;
            margin-bottom: 2rem;
        }

        .footer-column h3 {
            margin-bottom: 1.2rem;
            font-size: 1.2rem;
            color: var(--light);
        }

        .footer-column ul {
            list-style: none;
        }

        .footer-column li {
            margin-bottom: 0.8rem;
        }

        .footer-column a {
            color: rgba(255,255,255,0.7);
            text-decoration: none;
            transition: var(--transition);
        }

        .footer-column a:hover {
            color: white;
        }

        .copyright {
            text-align: center;
            padding-top: 1.5rem;
            border-top: 1px solid rgba(255,255,255,0.1);
            color: rgba(255,255,255,0.7);
            font-size: 0.9rem;
        }

        /* Animations */
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .button-group, .example-buttons {
                flex-direction: column;
            }
            
            .analyze-btn, .correct-btn, .clear-btn, .example-btn {
                min-width: 100%;
            }
            
            h1 {
                font-size: 2rem;
            }
        }
    </style>
</head>
<body>
    <header class="fade-in">
        <div class="container">
            <div class="header-content">
                <div class="logo">
                    <i class="fas fa-robot"></i>
                </div>
                <h1>Analyze Text</h1>
                <p class="tagline">Enter text below to check if it's AI-generated or human-written</p>
                <a href="/" class="back-btn">
                    <i class="fas fa-arrow-left"></i> Back to Home
                </a>
            </div>
        </div>
    </header>

    <div class="container">
        <div class="analysis-container">
            <div class="input-section fade-in">
                <h2><i class="fas fa-edit"></i> Enter Your Text</h2>
                <textarea 
                    id="textInput" 
                    placeholder="Paste or type your text here... (Minimum 10 characters required for analysis)"
                    rows="6"
                ></textarea>
                <div class="char-count">
                    <span id="charCount">0</span> characters entered
                </div>
                
                <div class="button-group">
                    <button id="analyzeBtn" onclick="analyzeText()" class="analyze-btn" disabled>
                        <i class="fas fa-search"></i> Check AI or Human
                    </button>
                    <button id="correctBtn" onclick="correctText()" class="correct-btn" disabled>
                        <i class="fas fa-tools"></i> Text Corrector
                    </button>
                    <button onclick="clearText()" class="clear-btn">
                        <i class="fas fa-trash-alt"></i> Clear Text
                    </button>
                </div>
                
                <div class="shortcut-hint">
                    <i class="fas fa-lightbulb"></i> Pro tip: Press <kbd>Ctrl</kbd> + <kbd>Enter</kbd> to analyze quickly
                </div>
            </div>
            
            <!-- AI Detection Results -->
            <div id="resultSection" class="result-section">
                <div class="result-header">
                    <h2><i class="fas fa-chart-bar"></i> Analysis Result</h2>
                </div>
                <div id="resultContent" class="result-content">
                    <!-- Results will be displayed here -->
                </div>
            </div>
            
            <!-- Text Correction Results -->
            <div id="correctionSection" class="correction-section">
                <h3><i class="fas fa-edit"></i> Text Correction Results</h3>
                <div id="correctionContent" class="correction-card">
                    <!-- Corrected text will be displayed here -->
                </div>
            </div>
            
            <div id="loading" class="loading">
                <div class="spinner"></div>
                <p>Analyzing text with advanced detection algorithms...</p>
            </div>
            
            <div id="correctionLoading" class="loading">
                <div class="spinner"></div>
                <p>Correcting text grammar and spelling...</p>
            </div>
            
            <div id="errorSection" class="error-section">
                <!-- Errors will be displayed here -->
            </div>
            
            <div class="examples-section fade-in">
                <h3><i class="fas fa-lightbulb"></i> Try these examples:</h3>
                <div class="example-buttons">
                    <button onclick="loadExample('ai')" class="example-btn ai-example">
                        <i class="fas fa-robot"></i> AI Generated Example
                    </button>
                    <button onclick="loadExample('human')" class="example-btn human-example">
                        <i class="fas fa-user"></i> Human Written Example
                    </button>
                </div>
            </div>
        </div>
    </div>

    <footer>
    <div class="container">
        <div class="footer-content">
            <div class="brand-section">
                <div class="brand-name">Analyzer Data Authenticity</div>
                <div class="brand-tagline">Advanced AI-powered fake detection technology</div>
            </div>
            <div class="developer-section">
                <div class="developer-info">
                    <div class="developer-logo">S</div>
                    <div class="developer-text">Developed by <strong>AI&DS dept</strong></div>
                </div>
                <div class="social-links">
                    <a href="https://www.linkedin.com/in/sumaiya-naseer-husen-sarwad-73baa8288/" class="social-link"><i class="fab fa-linkedin"></i></a>
                    <a href="https://github.com/SumaiyaSarwad" class="social-link"><i class="fab fa-github"></i></a>
                   <a href="https://mail.google.com/mail/?view=cm&fs=1&to=sumaiyansarwad06@gmail.com" 
   target="_blank" 
   class="social-link">
   <i class="fas fa-envelope"></i>
</a>


                </div>
            </div>
        </div>
        <div class="copyright">
            <p>&copy; 2025 AI Unimodel Deepfake Detector. All rights reserved.</p>
        </div>
    </div>
</footer>

    <script>
        // Example texts
        const examples = {
            ai: "The integration of artificial intelligence in contemporary technological framework has facilitated unprecedented advancements in computational capabilities. Furthermore, machine learning algorithms enable efficient pattern recognition that significantly enhances analytical precision across various domains, thereby contributing to more sophisticated AI applications.",
            
            human: "I'm not really sure about this whole AI thing, you know? I mean, it's kinda cool but also a bit scary. What do you think? Should we be worried about all this technology taking over? I feel like we might lose the human touch in everything."
        };

        function loadExample(type) {
            const textInput = document.getElementById('textInput');
            if (textInput) {
                textInput.value = examples[type];
                textInput.dispatchEvent(new Event('input'));
                textInput.style.height = 'auto';
                textInput.style.height = (textInput.scrollHeight) + 'px';
                
                // Scroll to input
                textInput.scrollIntoView({ behavior: 'smooth' });
            }
        }

        // Character count and input validation
        document.addEventListener('DOMContentLoaded', function() {
            const textInput = document.getElementById('textInput');
            const charCount = document.getElementById('charCount');
            const analyzeBtn = document.getElementById('analyzeBtn');
            const correctBtn = document.getElementById('correctBtn');
            
            if (textInput) {
                // Initial resize
                setTimeout(() => {
                    textInput.style.height = 'auto';
                    textInput.style.height = (textInput.scrollHeight) + 'px';
                }, 100);

                textInput.addEventListener('input', function() {
                    const count = this.value.length;
                    charCount.textContent = count;
                    
                    // Auto-resize
                    this.style.height = 'auto';
                    this.style.height = (this.scrollHeight) + 'px';
                    
                    // Enable/disable buttons
                    if (analyzeBtn) {
                        analyzeBtn.disabled = count < 10;
                        analyzeBtn.innerHTML = count < 10 ? 
                            'üîç Enter more text (10+ chars)' : 
                            'üîç Check AI or Human';
                    }
                    
                    if (correctBtn) {
                        correctBtn.disabled = count < 3;
                        correctBtn.innerHTML = count < 3 ? 
                            'üõ†Ô∏è Enter more text (3+ chars)' : 
                            'üõ†Ô∏è Text Corrector';
                    }
                });

                // Keyboard shortcut for analysis
                textInput.addEventListener('keydown', function(e) {
                    if (e.ctrlKey && e.key === 'Enter') {
                        e.preventDefault();
                        if (!analyzeBtn.disabled) {
                            analyzeText();
                        }
                    }
                });
            }
        });

        function analyzeText() {
            const textInput = document.getElementById('textInput');
            const text = textInput.value.trim();
            
            if (text.length < 10) {
                showResult("Human Written", ["Text is too short for analysis", "Please enter at least 10 characters"]);
                return;
            }
            
            showLoading();
            hideResults();
            hideError();
            hideCorrectionResult();
            
            const analyzeBtn = document.getElementById('analyzeBtn');
            if (analyzeBtn) {
                analyzeBtn.disabled = true;
                analyzeBtn.innerHTML = '‚è≥ Analyzing...';
            }
            
            fetch('/analyze-text', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify({ text: text })
            })
            .then(response => {
                if (!response.ok) {
                    throw new Error('Network error occurred');
                }
                return response.json();
            })
            .then(data => {
                hideLoading();
                
                if (analyzeBtn) {
                    analyzeBtn.disabled = false;
                    analyzeBtn.innerHTML = 'üîç Check AI or Human';
                }
                
                if (data.error) {
                    showError(data.error);
                } else {
                    showResult(data.result, data.details);
                }
            })
            .catch(error => {
                hideLoading();
                
                if (analyzeBtn) {
                    analyzeBtn.disabled = false;
                    analyzeBtn.innerHTML = 'üîç Check AI or Human';
                }
                
                showError('Connection error. Please check your internet and try again.');
                console.error('Error:', error);
            });
        }

        // TEXT CORRECTOR FUNCTIONS
        function correctText() {
            const textInput = document.getElementById('textInput');
            const text = textInput.value.trim();
            
            if (text.length < 3) {
                showError("Please enter at least 3 characters to correct");
                return;
            }
            
            showCorrectionLoading();
            hideCorrectionResult();
            hideError();
            hideResults();
            
            const correctBtn = document.getElementById('correctBtn');
            if (correctBtn) {
                correctBtn.disabled = true;
                correctBtn.innerHTML = '‚è≥ Correcting...';
            }
            
            fetch('/correct-text', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify({ text: text })
            })
            .then(response => {
                if (!response.ok) {
                    throw new Error('Network error occurred');
                }
                return response.json();
            })
            .then(data => {
                hideCorrectionLoading();
                
                if (correctBtn) {
                    correctBtn.disabled = false;
                    correctBtn.innerHTML = 'üõ†Ô∏è Text Corrector';
                }
                
                if (data.error) {
                    showError(data.error);
                } else {
                    showCorrectionResult(data.corrected_text, data.original_text);
                }
            })
            .catch(error => {
                hideCorrectionLoading();
                
                if (correctBtn) {
                    correctBtn.disabled = false;
                    correctBtn.innerHTML = 'üõ†Ô∏è Text Corrector';
                }
                
                showError('Connection error. Please try again.');
                console.error('Error:', error);
            });
        }

        function showCorrectionLoading() {
            const loading = document.getElementById('correctionLoading');
            if (loading) loading.style.display = 'block';
            hideLoading();
        }

        function hideCorrectionLoading() {
            const loading = document.getElementById('correctionLoading');
            if (loading) loading.style.display = 'none';
        }

        function showCorrectionResult(correctedText, originalText) {
            const correctionSection = document.getElementById('correctionSection');
            const correctionContent = document.getElementById('correctionContent');
            
            if (correctionSection && correctionContent) {
                correctionContent.innerHTML = `
                    <h4>üìù Original Text:</h4>
                    <div style="padding: 10px; background: #f5f5f5; border-radius: 5px; margin: 10px 0; font-style: italic;">
                        ${originalText}
                    </div>
                    
                    <h4>‚úÖ Corrected Text:</h4>
                    <div style="padding: 10px; background: #e8f5e8; border-radius: 5px; margin: 10px 0; font-weight: bold;">
                        ${correctedText}
                    </div>
                    
                    <button onclick="copyCorrectedText()" class="copy-btn">
                        üìã Copy Corrected Text
                    </button>
                `;
                
                correctionSection.style.display = 'block';
                correctionSection.scrollIntoView({ behavior: 'smooth' });
            }
        }

        function hideCorrectionResult() {
            const correctionSection = document.getElementById('correctionSection');
            if (correctionSection) correctionSection.style.display = 'none';
        }

        function copyCorrectedText() {
            const correctionContent = document.getElementById('correctionContent');
            if (correctionContent) {
                const correctedDiv = correctionContent.querySelector('div:nth-child(4)');
                if (correctedDiv) {
                    const textToCopy = correctedDiv.innerText || correctedDiv.textContent;
                    copyToClipboard(textToCopy);
                }
            }
        }

        function showLoading() {
            const loading = document.getElementById('loading');
            if (loading) loading.style.display = 'block';
            hideCorrectionLoading();
        }

        function hideLoading() {
            const loading = document.getElementById('loading');
            if (loading) loading.style.display = 'none';
        }

        function showError(message) {
            const errorSection = document.getElementById('errorSection');
            if (errorSection) {
                errorSection.innerHTML = `
                    <div style="display: flex; align-items: center; gap: 10px;">
                        <span style="font-size: 1.5em;">‚ö†Ô∏è</span>
                        <div>
                            <strong>Error:</strong> ${message}
                        </div>
                    </div>
                `;
                errorSection.style.display = 'block';
                errorSection.scrollIntoView({ behavior: 'smooth' });
            }
        }

        function hideError() {
            const errorSection = document.getElementById('errorSection');
            if (errorSection) errorSection.style.display = 'none';
        }

        function hideResults() {
            const resultSection = document.getElementById('resultSection');
            if (resultSection) resultSection.style.display = 'none';
        }

        function showResult(result, details) {
            const resultSection = document.getElementById('resultSection');
            const resultContent = document.getElementById('resultContent');
            
            if (!resultSection || !resultContent) return;

            const isAI = result.includes('AI');
            const icon = isAI ? 'ü§ñ' : 'üë§';
            const color = isAI ? '#f44336' : '#4CAF50';
            const dotClass = isAI ? 'ai-dot' : 'human-dot';

            resultContent.innerHTML = `
                <div class="result-card ${isAI ? 'ai-result' : 'human-result'}">
                    <div style="text-align: center;">
                        <div class="result-icon">${icon}</div>
                        <h3 style="color: ${color}; font-size: 2em; margin: 0;">${result}</h3>
                    </div>
                    ${details && details.length > 0 ? `
                        <ul class="details-list">
                            ${details.map(detail => `
                                <li class="${dotClass}">${detail}</li>
                            `).join('')}
                        </ul>
                    ` : ''}
                </div>
            `;

            resultSection.style.display = 'block';
            resultSection.scrollIntoView({ behavior: 'smooth' });
        }

        function clearText() {
            const textInput = document.getElementById('textInput');
            const charCount = document.getElementById('charCount');
            const analyzeBtn = document.getElementById('analyzeBtn');
            const correctBtn = document.getElementById('correctBtn');
            
            if (textInput) {
                textInput.value = '';
                textInput.style.height = '200px';
                textInput.focus();
            }
            
            if (charCount) charCount.textContent = '0';
            if (analyzeBtn) analyzeBtn.disabled = true;
            if (correctBtn) correctBtn.disabled = true;
            
            hideResults();
            hideError();
            hideCorrectionResult();
        }

        function copyToClipboard(text) {
            if (!text) return;
            
            navigator.clipboard.writeText(text).then(() => {
                // Show temporary success message
                const msg = document.createElement('div');
                msg.textContent = '‚úÖ Text copied to clipboard!';
                msg.style.cssText = `
                    position: fixed;
                    top: 20px;
                    right: 20px;
                    background: #4CAF50;
                    color: white;
                    padding: 15px 25px;
                    border-radius: 50px;
                    z-index: 1000;
                    font-weight: bold;
                    box-shadow: 0 4px 12px rgba(0,0,0,0.3);
                `;
                document.body.appendChild(msg);
                
                setTimeout(() => {
                    if (msg.parentNode) {
                        document.body.removeChild(msg);
                    }
                }, 2000);
            }).catch(() => {
                showError('Failed to copy text');
            });
        }
    </script>
</body>
</html>